apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

patches:
  # Task patches
  - target:
      kind: Task
      name: execute-ai-analysis
    path: task-params-patch.yaml
  - target:
      kind: Task
      name: execute-ai-analysis
    path: task-workspaces-patch.yaml
  - target:
      kind: Task
      name: execute-ai-analysis
    path: validate-report-patch.yaml
  - target:
      kind: Task
      name: execute-ai-analysis
    path: transform-report-patch.yaml
  - target:
      kind: Task
      name: execute-ai-analysis
    path: fetch-false-positives-patch.yaml
  - target:
      kind: Task
      name: execute-ai-analysis
    path: task-s3-output-patch.yaml

  # Pipeline patches
  - target:
      kind: Pipeline
      name: sast-ai-workflow-pipeline
    path: pipeline-params-patch.yaml
  - target:
      kind: Pipeline
      name: sast-ai-workflow-pipeline
    path: pipeline-workspaces-patch.yaml
