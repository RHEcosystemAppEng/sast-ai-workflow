apiVersion: tekton.dev/v1
kind: PipelineRun
metadata:
  name: sast-ai-workflow-pipelinerun
spec:
  pipelineRef:
    name: sast-ai-workflow-pipeline
  taskRunTemplate:
    podTemplate:
      hostNetwork: true  
  params:
    - name: sourceCodeUrl
      value: "source/code/url"
    - name: googleSpreadsheetUrl
      value: "google/spreadsheet/url"
    - name: falsePositivesUrl
      value: "false/positives/url"
    - name: LLM_URL
      value: ""
    - name: LLM_MODEL_NAME
      value: "llm-model"
    - name: EMBEDDINGS_LLM_URL
      value: ""
    - name: EMBEDDINGS_LLM_MODEL_NAME
      value: "embedding-llm-model"
  workspaces:
    - name: shared-workspace
      persistentVolumeClaim:
        claimName: sast-ai-workflow-pvc
    - name: gitlab-token-ws
      secret:
        secretName: gitlab-token-secret
        items:
          - key: gitlab_token
            path: gitlab_token